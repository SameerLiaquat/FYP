{"ast":null,"code":"var _jsxFileName = \"D:\\\\FYP\\\\FYP-2023-2024\\\\Frontend\\\\src\\\\components\\\\CommentaryQueryBuilder\\\\CommentaryQueryBuilder.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport Select from 'react-select';\nimport './CommentaryQueryBuilder.css';\nimport Footer from '../Footer/Footer'; // Import Footer component\n\n// Commentary Contents\n// const ayatNumberOptions = [\n//   { value: '15', label: 'Verse 015' },\n//   { value: '6', label: 'Verse 006' },\n//   { value: '13', label: 'Verse 013' },\n// ];\n\n// const surahNumberOptions = [\n//   { value: '12', label: 'يوسف 12' },\n//   { value: '10', label: 'يونس 10' },\n//   { value: '19', label: 'مريم 19' },\n// ];\n\n// const subThemeOptions = [\n//     { value: 'qghairjaiz', label: 'qghairjaiz' },\n//     { value: 'khairshar', label: 'khairshar' },\n//     { value: 'sifatilahi', label: 'sifatilahi' },\n//     { value: 'murad', label: 'murad' },\n//   ];\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CommentaryQueryBuilder = () => {\n  _s();\n  const navigate = useNavigate();\n  const [selectedOption, setSelectedOption] = useState('commentary');\n  const [data, setData] = useState({\n    commno: '',\n    chapterNo: '',\n    verseNo: '',\n    theme: '',\n    subtheme: '',\n    narrators: [{\n      title: '',\n      name: ''\n    }],\n    mentions: ''\n  });\n  const handleRadioChange = option => {\n    setSelectedOption(option);\n    switch (option) {\n      case 'verse':\n        navigate('/verse-query-builder');\n        break;\n      case 'hadith':\n        navigate('/hadith-query-builder');\n        break;\n      case 'commentary':\n        navigate('/commentary-query-builder');\n        break;\n      default:\n        break;\n    }\n  };\n  const handleThemeChange = selectedOption => {\n    setData({\n      ...data,\n      theme: selectedOption.value\n    });\n  };\n  const handleSubThemeChange = selectedOption => {\n    setData({\n      ...data,\n      subtheme: selectedOption.value\n    });\n  };\n  const handleMentionsChange = selectedOption => {\n    setData({\n      ...data,\n      mentions: selectedOption.value\n    });\n  };\n  const handleChapterNoChange = selectedOption => {\n    setData({\n      ...data,\n      chapterNo: selectedOption.value\n    });\n  };\n  const handleCommentaryNoChange = selectedOption => {\n    setData({\n      ...data,\n      commno: selectedOption.value\n    });\n  };\n  const handleVerseNoChange = selectedOption => {\n    setData({\n      ...data,\n      verseNo: selectedOption.value\n    });\n  };\n\n  // const SendDataToBackend = () => {\n  //   let url = `http://127.0.0.1:8000/api/query_hadith/?theme=${data.theme}`;\n\n  //   if (data.hadith_number) {\n  //     url += `&hadith_number=${data.hadith_number}`;\n  //   }\n\n  //   if (data.organization) {\n  //     url += `&organization=${data.organization}`;\n  //   }\n\n  //   if (data.time) {\n  //     url += `&time=${data.time}`;\n  //   }\n\n  //   if (data.place) {\n  //     url += `&place=${data.place}`;\n  //   }\n\n  //   fetch(url, {\n  //     method: 'GET',\n  //     headers: {\n  //       'Content-Type': 'application/json',\n  //     },\n  //   })\n  //     .then((response) => response.json())\n  //     .then((data) => {\n  //       console.log('Success:', data);\n  //       if (data.result) {\n  //         console.log('Result from backend:', data.result);\n  //         navigate('/commentary-query-results', { state: { resultsData: data.result } });\n  //       }\n  //     })\n  //     .catch((error) => {\n  //       console.error('Error:', error);\n  //     });\n  // };\n\n  const SendDataToBackend = () => {\n    console.log(\"POST\");\n    const url = 'http://127.0.0.1:8000/api/query_commentary/';\n    fetch(url, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(data)\n    }).then(response => response.json()).then(responseData => {\n      console.log('Success:', responseData);\n      if (responseData.result && responseData.result.results && responseData.result.results.bindings) {\n        const results = responseData.result.results.bindings;\n        console.log('Results:', results);\n        navigate('/commentary-query-results', {\n          state: {\n            resultsData: results\n          }\n        });\n      } else {\n        console.error('Results or bindings not found in response data.');\n      }\n    }).catch(error => {\n      //console.error('Error:', error);\n    });\n  };\n  const [limitValue, setLimitValue] = useState(0);\n  const incrementValue = () => {\n    setLimitValue(Math.min(limitValue + 1, MAX_LIMIT));\n  };\n  const decrementValue = () => {\n    setLimitValue(Math.max(limitValue - 1, 0));\n  };\n\n  // Define MAX_LIMIT constant if needed\n  const MAX_LIMIT = 2000; // Example value\n\n  // Fetch from txt\n  const [commentaryNoOptions, setCommentaryNoOptions] = useState([]);\n  const [chapterNoOptions, setChapterNoOptions] = useState([]);\n  const [verseNoOptions, setVerseNoOptions] = useState([]);\n  const [themeOptions, setThemeOptions] = useState([]);\n  const [mentionsOptions, setMentionsOptions] = useState([]);\n  const [subThemeOptions, setSubThemeOptions] = useState([]);\n\n  // Commentary Number\n  useEffect(() => {\n    fetch('/Drop-down-data/commentary number.txt').then(response => response.text()).then(data => {\n      const comms = data.split('\\n').slice(1).map(commentaryNo => ({\n        value: commentaryNo.trim(),\n        label: commentaryNo.trim()\n      }));\n      setCommentaryNoOptions(comms);\n    }).catch(error => {\n      console.error('Error fetching commentary numbers:', error);\n    });\n  }, []);\n\n  // Chapter No\n  useEffect(() => {\n    // Fetch the text file from the public folder\n    fetch('/Drop-down-data/ayat chapter commentary.txt').then(response => response.text()).then(data => {\n      // Split the file content by lines and start from line 2\n      const chapters = data.split('\\n').slice(1).map(chapter => {\n        // Split each line to get the numeric value and chapter name\n        const [chapterNumber, chapterName] = chapter.split('\\t');\n        return {\n          value: chapterNumber,\n          label: chapterName.trim()\n        };\n      });\n      setChapterNoOptions(chapters);\n    }).catch(error => {\n      console.error('Error fetching chapterNo:', error);\n    });\n  }, []);\n\n  // VerseNo\n  useEffect(() => {\n    fetch('/Drop-down-data/ayat number commentary.txt').then(response => response.text()).then(data => {\n      const verses = data.split('\\n').slice(1).map(verse => ({\n        value: verse.trim(),\n        label: verse.trim()\n      }));\n      setVerseNoOptions(verses);\n    }).catch(error => {\n      console.error('Error fetching verse numbers:', error);\n    });\n  }, []);\n\n  // themes\n  useEffect(() => {\n    // Fetch the text file from the public folder\n    fetch('/Drop-down-data/commentary theme names.txt').then(response => response.text()).then(data => {\n      // Split the file content by lines and start from line 2\n      const themes = data.split('\\n').slice(1).map(theme => {\n        // Remove the leading colon from each theme\n        const trimmedTheme = theme.trim();\n        const themeWithoutColon = trimmedTheme.startsWith(':') ? trimmedTheme.substring(1) : trimmedTheme;\n        return {\n          value: themeWithoutColon,\n          label: themeWithoutColon\n        };\n      });\n      setThemeOptions(themes);\n    }).catch(error => {\n      console.error('Error fetching themes:', error);\n    });\n  }, []);\n\n  // Fetch mentioned persons from the text file\n  useEffect(() => {\n    fetch('/Drop-down-data/commentary mentions.txt').then(response => response.text()).then(data => {\n      // Split the file content by lines\n      const lines = data.split('\\n');\n      // Process each line to extract the full name\n      const mentionedPersons = lines.slice(1).map(line => {\n        const fullName = line.trim();\n        return {\n          value: fullName,\n          label: fullName\n        };\n      });\n      // Set the options in state\n      setMentionsOptions(mentionedPersons);\n    }).catch(error => {\n      console.error('Error fetching mentioned persons:', error);\n    });\n  }, []);\n\n  // Fetch sub theme from the text file\n  useEffect(() => {\n    fetch('/Drop-down-data/commentary sub theme options.txt').then(response => response.text()).then(data => {\n      // Split the file content by lines\n      const lines = data.split('\\n');\n      // Process each line to extract the full name\n      const subthemes = lines.slice(1).map(line => {\n        const subtheme = line.trim();\n        return {\n          value: subtheme,\n          label: subtheme\n        };\n      });\n      // Set the options in state\n      setSubThemeOptions(subthemes);\n    }).catch(error => {\n      console.error('Error fetching sub themes:', error);\n    });\n  }, []);\n\n  //end\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"commentary-query-builder\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"back-button-commentary\",\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        src: require('../../assets/back_button.png'),\n        alt: \"Back Button\",\n        onClick: () => window.history.back()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 309,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 308,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"radio-buttons-commentary\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        className: `radio-button-commentary ${selectedOption === 'hadith' ? 'selected' : ''}`,\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"radio\",\n          name: \"queryType\",\n          value: \"hadith\",\n          onChange: () => handleRadioChange('hadith'),\n          checked: selectedOption === 'hadith'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 319,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [\" \", /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Hadith\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 326,\n            columnNumber: 18\n          }, this), \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 326,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 318,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        className: `radio-button-commentary ${selectedOption === 'verse' ? 'selected' : ''}`,\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"radio\",\n          name: \"queryType\",\n          value: \"verse\",\n          onChange: () => handleRadioChange('verse'),\n          checked: selectedOption === 'verse'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 329,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [\" \", /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Verse\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 336,\n            columnNumber: 18\n          }, this), \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 336,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 328,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        className: `radio-button-commentary ${selectedOption === 'commentary' ? 'selected' : ''}`,\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"radio\",\n          name: \"queryType\",\n          value: \"commentary\",\n          onChange: () => handleRadioChange('commentary'),\n          checked: selectedOption === 'commentary'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 339,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [\" \", /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Commentary\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 346,\n            columnNumber: 18\n          }, this), \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 346,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 338,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 316,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"query-box-commentary\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"search-text-commentary\",\n        children: \"Find Commentary About:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 351,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"dropdown-container-commentary\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"dropdown-commentary\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"surah_number\",\n            children: \"Commentary Number\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 354,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Select, {\n            options: commentaryNoOptions,\n            isSearchable: true,\n            onChange: handleCommentaryNoChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 355,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 353,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"dropdown-commentary\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"theme\",\n            children: \"Which has Theme\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 359,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Select, {\n            options: themeOptions,\n            isSearchable: true,\n            onChange: handleThemeChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 360,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 358,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"dropdown-commentary\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"sub_theme\",\n            children: \"Which has the Sub-Theme\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 364,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Select, {\n            options: subThemeOptions,\n            isSearchable: true,\n            onChange: handleSubThemeChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 365,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 363,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 352,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"that-mentions\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"search-text\",\n          children: \"That Mentions:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 370,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"dropdown\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"mentions\",\n            children: \"Mentions\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 372,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Select, {\n            options: mentionsOptions,\n            isSearchable: true,\n            onChange: handleMentionsChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 373,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 371,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 369,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"dropdown-container-commentary-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"search-text-commentary-2\",\n          children: \"Which References the Verse:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 378,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"dropdown-commentary-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"surah_number\",\n            children: \"Surah Number\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 380,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Select, {\n            options: chapterNoOptions,\n            isSearchable: true,\n            onChange: handleChapterNoChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 381,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 379,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"dropdown-commentary-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"ayat_number\",\n            children: \"Ayat Number\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 384,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Select, {\n            options: verseNoOptions,\n            isSearchable: true,\n            onChange: handleVerseNoChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 385,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 383,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 377,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"run-query-button-commentary\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"run-button\",\n          onClick: SendDataToBackend,\n          children: \"Run Query\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 390,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 389,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"limit-results-box-commentary\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"limit-results\",\n          children: \"Limit Search Results\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 396,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"limit-input-commentary\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"decrement-commentary\",\n            onClick: decrementValue,\n            children: \"-\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 398,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            id: \"limit-results\",\n            value: limitValue,\n            onChange: e => setLimitValue(Math.max(0, parseInt(e.target.value)))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 399,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"increment-commentary\",\n            onClick: incrementValue,\n            children: \"+\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 405,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 397,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 395,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 350,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"Footer-portion\",\n      children: /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 410,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 409,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 307,\n    columnNumber: 5\n  }, this);\n};\n_s(CommentaryQueryBuilder, \"NIHCyfdAzEf8yf9DlH3OTKgE210=\", false, function () {\n  return [useNavigate];\n});\n_c = CommentaryQueryBuilder;\nexport default CommentaryQueryBuilder;\nvar _c;\n$RefreshReg$(_c, \"CommentaryQueryBuilder\");","map":{"version":3,"names":["React","useState","useEffect","useNavigate","Select","Footer","jsxDEV","_jsxDEV","CommentaryQueryBuilder","_s","navigate","selectedOption","setSelectedOption","data","setData","commno","chapterNo","verseNo","theme","subtheme","narrators","title","name","mentions","handleRadioChange","option","handleThemeChange","value","handleSubThemeChange","handleMentionsChange","handleChapterNoChange","handleCommentaryNoChange","handleVerseNoChange","SendDataToBackend","console","log","url","fetch","method","headers","body","JSON","stringify","then","response","json","responseData","result","results","bindings","state","resultsData","error","catch","limitValue","setLimitValue","incrementValue","Math","min","MAX_LIMIT","decrementValue","max","commentaryNoOptions","setCommentaryNoOptions","chapterNoOptions","setChapterNoOptions","verseNoOptions","setVerseNoOptions","themeOptions","setThemeOptions","mentionsOptions","setMentionsOptions","subThemeOptions","setSubThemeOptions","text","comms","split","slice","map","commentaryNo","trim","label","chapters","chapter","chapterNumber","chapterName","verses","verse","themes","trimmedTheme","themeWithoutColon","startsWith","substring","lines","mentionedPersons","line","fullName","subthemes","className","children","src","require","alt","onClick","window","history","back","fileName","_jsxFileName","lineNumber","columnNumber","type","onChange","checked","htmlFor","options","isSearchable","id","e","parseInt","target","_c","$RefreshReg$"],"sources":["D:/FYP/FYP-2023-2024/Frontend/src/components/CommentaryQueryBuilder/CommentaryQueryBuilder.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport Select from 'react-select';\r\nimport './CommentaryQueryBuilder.css';\r\nimport Footer from '../Footer/Footer'; // Import Footer component\r\n\r\n\r\n// Commentary Contents\r\n// const ayatNumberOptions = [\r\n//   { value: '15', label: 'Verse 015' },\r\n//   { value: '6', label: 'Verse 006' },\r\n//   { value: '13', label: 'Verse 013' },\r\n// ];\r\n\r\n// const surahNumberOptions = [\r\n//   { value: '12', label: 'يوسف 12' },\r\n//   { value: '10', label: 'يونس 10' },\r\n//   { value: '19', label: 'مريم 19' },\r\n// ];\r\n\r\n// const subThemeOptions = [\r\n//     { value: 'qghairjaiz', label: 'qghairjaiz' },\r\n//     { value: 'khairshar', label: 'khairshar' },\r\n//     { value: 'sifatilahi', label: 'sifatilahi' },\r\n//     { value: 'murad', label: 'murad' },\r\n//   ];\r\n\r\nconst CommentaryQueryBuilder = () => {\r\n  const navigate = useNavigate();\r\n  const [selectedOption, setSelectedOption] = useState('commentary');\r\n  const [data, setData] = useState({\r\n    commno: '',\r\n    chapterNo: '',\r\n    verseNo: '',\r\n    theme: '',\r\n    subtheme: '',\r\n    narrators: [{ title: '', name: '' }],\r\n    mentions: '',\r\n  });\r\n\r\n  const handleRadioChange = (option) => {\r\n    setSelectedOption(option);\r\n    switch (option) {\r\n      case 'verse':\r\n        navigate('/verse-query-builder');\r\n        break;\r\n      case 'hadith':\r\n        navigate('/hadith-query-builder');\r\n        break;\r\n      case 'commentary':\r\n        navigate('/commentary-query-builder');\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n  };\r\n\r\n  const handleThemeChange = (selectedOption) => {\r\n    setData({\r\n      ...data,\r\n      theme: selectedOption.value,\r\n    });\r\n  };\r\n\r\n  const handleSubThemeChange = (selectedOption) => {\r\n    setData({\r\n      ...data,\r\n      subtheme: selectedOption.value,\r\n    });\r\n  };\r\n  \r\n  const handleMentionsChange = (selectedOption) => {\r\n    setData({\r\n      ...data,\r\n      mentions: selectedOption.value,\r\n    });\r\n  };\r\n\r\n  const handleChapterNoChange = (selectedOption) => {\r\n    setData({\r\n      ...data,\r\n      chapterNo: selectedOption.value,\r\n    });\r\n  };\r\n\r\n  const handleCommentaryNoChange = (selectedOption) => {\r\n    setData({\r\n      ...data,\r\n      commno: selectedOption.value,\r\n    });\r\n  };\r\n  \r\n  const handleVerseNoChange = (selectedOption) => {\r\n    setData({\r\n      ...data,\r\n      verseNo: selectedOption.value,\r\n    });\r\n  };\r\n\r\n  // const SendDataToBackend = () => {\r\n  //   let url = `http://127.0.0.1:8000/api/query_hadith/?theme=${data.theme}`;\r\n\r\n  //   if (data.hadith_number) {\r\n  //     url += `&hadith_number=${data.hadith_number}`;\r\n  //   }\r\n\r\n  //   if (data.organization) {\r\n  //     url += `&organization=${data.organization}`;\r\n  //   }\r\n\r\n  //   if (data.time) {\r\n  //     url += `&time=${data.time}`;\r\n  //   }\r\n\r\n  //   if (data.place) {\r\n  //     url += `&place=${data.place}`;\r\n  //   }\r\n\r\n  //   fetch(url, {\r\n  //     method: 'GET',\r\n  //     headers: {\r\n  //       'Content-Type': 'application/json',\r\n  //     },\r\n  //   })\r\n  //     .then((response) => response.json())\r\n  //     .then((data) => {\r\n  //       console.log('Success:', data);\r\n  //       if (data.result) {\r\n  //         console.log('Result from backend:', data.result);\r\n  //         navigate('/commentary-query-results', { state: { resultsData: data.result } });\r\n  //       }\r\n  //     })\r\n  //     .catch((error) => {\r\n  //       console.error('Error:', error);\r\n  //     });\r\n  // };\r\n\r\n\r\n  const SendDataToBackend = () => {\r\n    console.log(\"POST\")\r\n    const url = 'http://127.0.0.1:8000/api/query_commentary/';\r\n    \r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n      body: JSON.stringify(data),\r\n    })\r\n      .then((response) => response.json())\r\n      .then((responseData) => {\r\n        console.log('Success:', responseData);\r\n\r\n        if (responseData.result && responseData.result.results && responseData.result.results.bindings) {\r\n          const results = responseData.result.results.bindings;\r\n          console.log('Results:', results);\r\n\r\n          navigate('/commentary-query-results', { state: { resultsData: results } });\r\n        } else {\r\n          console.error('Results or bindings not found in response data.');\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        //console.error('Error:', error);\r\n      });\r\n  };\r\n\r\n  const [limitValue, setLimitValue] = useState(0);\r\n\r\nconst incrementValue = () => {\r\n  setLimitValue(Math.min(limitValue + 1, MAX_LIMIT));\r\n};\r\n\r\nconst decrementValue = () => {\r\n  setLimitValue(Math.max(limitValue - 1, 0));\r\n};\r\n\r\n// Define MAX_LIMIT constant if needed\r\nconst MAX_LIMIT = 2000; // Example value\r\n\r\n\r\n// Fetch from txt\r\nconst [commentaryNoOptions, setCommentaryNoOptions] = useState([]);\r\n\r\nconst [chapterNoOptions, setChapterNoOptions] = useState([]);\r\n\r\nconst [verseNoOptions, setVerseNoOptions] = useState([]);\r\nconst [themeOptions, setThemeOptions] = useState([]);\r\nconst [mentionsOptions, setMentionsOptions] = useState([]);\r\nconst [subThemeOptions, setSubThemeOptions] = useState([]);\r\n\r\n// Commentary Number\r\nuseEffect(() => {\r\n  fetch('/Drop-down-data/commentary number.txt')\r\n    .then((response) => response.text())\r\n    .then((data) => {\r\n      const comms = data.split('\\n').slice(1).map((commentaryNo) => ({\r\n        value: commentaryNo.trim(),\r\n        label: commentaryNo.trim(),\r\n      }));\r\n      setCommentaryNoOptions(comms);\r\n    })\r\n    .catch((error) => {\r\n      console.error('Error fetching commentary numbers:', error);\r\n    });\r\n}, []);\r\n\r\n// Chapter No\r\nuseEffect(() => {\r\n  // Fetch the text file from the public folder\r\n  fetch('/Drop-down-data/ayat chapter commentary.txt')\r\n    .then((response) => response.text())\r\n    .then((data) => {\r\n      // Split the file content by lines and start from line 2\r\n      const chapters = data.split('\\n').slice(1).map((chapter) => {\r\n        // Split each line to get the numeric value and chapter name\r\n        const [chapterNumber, chapterName] = chapter.split('\\t');\r\n        return { value: chapterNumber, label: chapterName.trim() };\r\n      });\r\n      setChapterNoOptions(chapters);\r\n    })\r\n    .catch((error) => {\r\n      console.error('Error fetching chapterNo:', error);\r\n    });\r\n}, []);\r\n\r\n// VerseNo\r\nuseEffect(() => {\r\n  fetch('/Drop-down-data/ayat number commentary.txt')\r\n    .then((response) => response.text())\r\n    .then((data) => {\r\n      const verses = data.split('\\n').slice(1).map((verse) => ({\r\n        value: verse.trim(),\r\n        label: verse.trim(),\r\n      }));\r\n      setVerseNoOptions(verses);\r\n    })\r\n    .catch((error) => {\r\n      console.error('Error fetching verse numbers:', error);\r\n    });\r\n}, []);\r\n\r\n\r\n// themes\r\nuseEffect(() => {\r\n  // Fetch the text file from the public folder\r\n  fetch('/Drop-down-data/commentary theme names.txt')\r\n    .then((response) => response.text())\r\n    .then((data) => {\r\n      // Split the file content by lines and start from line 2\r\n      const themes = data.split('\\n').slice(1).map((theme) => {\r\n        // Remove the leading colon from each theme\r\n        const trimmedTheme = theme.trim();\r\n        const themeWithoutColon = trimmedTheme.startsWith(':') ? trimmedTheme.substring(1) : trimmedTheme;\r\n        return { value: themeWithoutColon, label: themeWithoutColon };\r\n      });\r\n      setThemeOptions(themes);\r\n    })\r\n    .catch((error) => {\r\n      console.error('Error fetching themes:', error);\r\n    });\r\n}, []);\r\n\r\n// Fetch mentioned persons from the text file\r\nuseEffect(() => {\r\n  fetch('/Drop-down-data/commentary mentions.txt')\r\n    .then((response) => response.text())\r\n    .then((data) => {\r\n      // Split the file content by lines\r\n      const lines = data.split('\\n');\r\n      // Process each line to extract the full name\r\n      const mentionedPersons = lines.slice(1).map((line) => {\r\n        const fullName = line.trim();\r\n        return { value: fullName, label: fullName };\r\n      });\r\n      // Set the options in state\r\n      setMentionsOptions(mentionedPersons);\r\n    })\r\n    .catch((error) => {\r\n      console.error('Error fetching mentioned persons:', error);\r\n    });\r\n}, []);\r\n\r\n// Fetch sub theme from the text file\r\nuseEffect(() => {\r\n  fetch('/Drop-down-data/commentary sub theme options.txt')\r\n    .then((response) => response.text())\r\n    .then((data) => {\r\n      // Split the file content by lines\r\n      const lines = data.split('\\n');\r\n      // Process each line to extract the full name\r\n      const subthemes = lines.slice(1).map((line) => {\r\n        const subtheme = line.trim();\r\n        return { value: subtheme, label: subtheme };\r\n      });\r\n      // Set the options in state\r\n      setSubThemeOptions(subthemes);\r\n    })\r\n    .catch((error) => {\r\n      console.error('Error fetching sub themes:', error);\r\n    });\r\n}, []);\r\n\r\n//end\r\n\r\n  return (\r\n    <div className=\"commentary-query-builder\">\r\n      <div className=\"back-button-commentary\">\r\n        <img\r\n          src={require('../../assets/back_button.png')}\r\n          alt=\"Back Button\"\r\n          onClick={() => window.history.back()}\r\n        />\r\n      </div>\r\n      \r\n      <div className=\"radio-buttons-commentary\">\r\n        \r\n        <label className={`radio-button-commentary ${selectedOption === 'hadith' ? 'selected' : ''}`}>\r\n          <input\r\n            type=\"radio\"\r\n            name=\"queryType\"\r\n            value=\"hadith\"\r\n            onChange={() => handleRadioChange('hadith')}\r\n            checked={selectedOption === 'hadith'}\r\n          />\r\n          <span> <p>Hadith</p> </span>\r\n        </label>\r\n        <label className={`radio-button-commentary ${selectedOption === 'verse' ? 'selected' : ''}`}>\r\n          <input\r\n            type=\"radio\"\r\n            name=\"queryType\"\r\n            value=\"verse\"\r\n            onChange={() => handleRadioChange('verse')}\r\n            checked={selectedOption === 'verse'}\r\n          />\r\n          <span> <p>Verse</p> </span>\r\n        </label>\r\n        <label className={`radio-button-commentary ${selectedOption === 'commentary' ? 'selected' : ''}`}>\r\n          <input\r\n            type=\"radio\"\r\n            name=\"queryType\"\r\n            value=\"commentary\"\r\n            onChange={() => handleRadioChange('commentary')}\r\n            checked={selectedOption === 'commentary'}\r\n          />\r\n          <span> <p>Commentary</p> </span>\r\n        </label>\r\n      </div>\r\n\r\n      <div className=\"query-box-commentary\">\r\n      <div className=\"search-text-commentary\">Find Commentary About:</div>\r\n      <div className=\"dropdown-container-commentary\">\r\n        <div className=\"dropdown-commentary\">\r\n            <label htmlFor=\"surah_number\">Commentary Number</label>\r\n            <Select options={commentaryNoOptions} isSearchable={true} onChange={handleCommentaryNoChange} />\r\n        </div>\r\n        \r\n        <div className=\"dropdown-commentary\">\r\n            <label htmlFor=\"theme\">Which has Theme</label>\r\n            <Select options={themeOptions} isSearchable={true} onChange={handleThemeChange} />\r\n        </div>\r\n\r\n        <div className=\"dropdown-commentary\">\r\n            <label htmlFor=\"sub_theme\">Which has the Sub-Theme</label>\r\n            <Select options={subThemeOptions} isSearchable={true} onChange={handleSubThemeChange} />\r\n        </div>\r\n        </div>\r\n\r\n        <div className=\"that-mentions\">\r\n          <div className=\"search-text\">That Mentions:</div>\r\n          <div className=\"dropdown\">\r\n            <label htmlFor=\"mentions\">Mentions</label>\r\n            <Select options={mentionsOptions} isSearchable={true} onChange={handleMentionsChange} />\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"dropdown-container-commentary-2\">\r\n            <div className=\"search-text-commentary-2\">Which References the Verse:</div>\r\n            <div className=\"dropdown-commentary-2\">\r\n                <label htmlFor=\"surah_number\">Surah Number</label>\r\n                <Select options={chapterNoOptions} isSearchable={true} onChange={handleChapterNoChange} />\r\n            </div>\r\n            <div className=\"dropdown-commentary-2\">\r\n                <label htmlFor=\"ayat_number\">Ayat Number</label>\r\n                <Select options={verseNoOptions} isSearchable={true} onChange={handleVerseNoChange} />\r\n            </div>\r\n        </div>\r\n\r\n        <div className=\"run-query-button-commentary\">\r\n          <button className=\"run-button\" onClick={SendDataToBackend}>\r\n            Run Query\r\n          </button>\r\n        </div>\r\n\r\n        <div className=\"limit-results-box-commentary\">\r\n          <label htmlFor=\"limit-results\">Limit Search Results</label>\r\n          <div className=\"limit-input-commentary\">\r\n            <button className=\"decrement-commentary\" onClick={decrementValue}>-</button>\r\n            <input\r\n              type=\"number\"\r\n              id=\"limit-results\"\r\n              value={limitValue}\r\n              onChange={(e) => setLimitValue(Math.max(0, parseInt(e.target.value)))}\r\n            />\r\n            <button className=\"increment-commentary\" onClick={incrementValue}>+</button>\r\n          </div>\r\n      </div>\r\n      </div>\r\n      <div className='Footer-portion'>\r\n        <Footer />\r\n      </div> \r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CommentaryQueryBuilder;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,OAAOC,MAAM,MAAM,cAAc;AACjC,OAAO,8BAA8B;AACrC,OAAOC,MAAM,MAAM,kBAAkB,CAAC,CAAC;;AAGvC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAEA,MAAMC,sBAAsB,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACnC,MAAMC,QAAQ,GAAGP,WAAW,CAAC,CAAC;EAC9B,MAAM,CAACQ,cAAc,EAAEC,iBAAiB,CAAC,GAAGX,QAAQ,CAAC,YAAY,CAAC;EAClE,MAAM,CAACY,IAAI,EAAEC,OAAO,CAAC,GAAGb,QAAQ,CAAC;IAC/Bc,MAAM,EAAE,EAAE;IACVC,SAAS,EAAE,EAAE;IACbC,OAAO,EAAE,EAAE;IACXC,KAAK,EAAE,EAAE;IACTC,QAAQ,EAAE,EAAE;IACZC,SAAS,EAAE,CAAC;MAAEC,KAAK,EAAE,EAAE;MAAEC,IAAI,EAAE;IAAG,CAAC,CAAC;IACpCC,QAAQ,EAAE;EACZ,CAAC,CAAC;EAEF,MAAMC,iBAAiB,GAAIC,MAAM,IAAK;IACpCb,iBAAiB,CAACa,MAAM,CAAC;IACzB,QAAQA,MAAM;MACZ,KAAK,OAAO;QACVf,QAAQ,CAAC,sBAAsB,CAAC;QAChC;MACF,KAAK,QAAQ;QACXA,QAAQ,CAAC,uBAAuB,CAAC;QACjC;MACF,KAAK,YAAY;QACfA,QAAQ,CAAC,2BAA2B,CAAC;QACrC;MACF;QACE;IACJ;EACF,CAAC;EAED,MAAMgB,iBAAiB,GAAIf,cAAc,IAAK;IAC5CG,OAAO,CAAC;MACN,GAAGD,IAAI;MACPK,KAAK,EAAEP,cAAc,CAACgB;IACxB,CAAC,CAAC;EACJ,CAAC;EAED,MAAMC,oBAAoB,GAAIjB,cAAc,IAAK;IAC/CG,OAAO,CAAC;MACN,GAAGD,IAAI;MACPM,QAAQ,EAAER,cAAc,CAACgB;IAC3B,CAAC,CAAC;EACJ,CAAC;EAED,MAAME,oBAAoB,GAAIlB,cAAc,IAAK;IAC/CG,OAAO,CAAC;MACN,GAAGD,IAAI;MACPU,QAAQ,EAAEZ,cAAc,CAACgB;IAC3B,CAAC,CAAC;EACJ,CAAC;EAED,MAAMG,qBAAqB,GAAInB,cAAc,IAAK;IAChDG,OAAO,CAAC;MACN,GAAGD,IAAI;MACPG,SAAS,EAAEL,cAAc,CAACgB;IAC5B,CAAC,CAAC;EACJ,CAAC;EAED,MAAMI,wBAAwB,GAAIpB,cAAc,IAAK;IACnDG,OAAO,CAAC;MACN,GAAGD,IAAI;MACPE,MAAM,EAAEJ,cAAc,CAACgB;IACzB,CAAC,CAAC;EACJ,CAAC;EAED,MAAMK,mBAAmB,GAAIrB,cAAc,IAAK;IAC9CG,OAAO,CAAC;MACN,GAAGD,IAAI;MACPI,OAAO,EAAEN,cAAc,CAACgB;IAC1B,CAAC,CAAC;EACJ,CAAC;;EAED;EACA;;EAEA;EACA;EACA;;EAEA;EACA;EACA;;EAEA;EACA;EACA;;EAEA;EACA;EACA;;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;EAGA,MAAMM,iBAAiB,GAAGA,CAAA,KAAM;IAC9BC,OAAO,CAACC,GAAG,CAAC,MAAM,CAAC;IACnB,MAAMC,GAAG,GAAG,6CAA6C;IAEzDC,KAAK,CAACD,GAAG,EAAE;MACTE,MAAM,EAAE,MAAM;MACdC,OAAO,EAAE;QACP,cAAc,EAAE;MAClB,CAAC;MACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC7B,IAAI;IAC3B,CAAC,CAAC,CACC8B,IAAI,CAAEC,QAAQ,IAAKA,QAAQ,CAACC,IAAI,CAAC,CAAC,CAAC,CACnCF,IAAI,CAAEG,YAAY,IAAK;MACtBZ,OAAO,CAACC,GAAG,CAAC,UAAU,EAAEW,YAAY,CAAC;MAErC,IAAIA,YAAY,CAACC,MAAM,IAAID,YAAY,CAACC,MAAM,CAACC,OAAO,IAAIF,YAAY,CAACC,MAAM,CAACC,OAAO,CAACC,QAAQ,EAAE;QAC9F,MAAMD,OAAO,GAAGF,YAAY,CAACC,MAAM,CAACC,OAAO,CAACC,QAAQ;QACpDf,OAAO,CAACC,GAAG,CAAC,UAAU,EAAEa,OAAO,CAAC;QAEhCtC,QAAQ,CAAC,2BAA2B,EAAE;UAAEwC,KAAK,EAAE;YAAEC,WAAW,EAAEH;UAAQ;QAAE,CAAC,CAAC;MAC5E,CAAC,MAAM;QACLd,OAAO,CAACkB,KAAK,CAAC,iDAAiD,CAAC;MAClE;IACF,CAAC,CAAC,CACDC,KAAK,CAAED,KAAK,IAAK;MAChB;IAAA,CACD,CAAC;EACN,CAAC;EAED,MAAM,CAACE,UAAU,EAAEC,aAAa,CAAC,GAAGtD,QAAQ,CAAC,CAAC,CAAC;EAEjD,MAAMuD,cAAc,GAAGA,CAAA,KAAM;IAC3BD,aAAa,CAACE,IAAI,CAACC,GAAG,CAACJ,UAAU,GAAG,CAAC,EAAEK,SAAS,CAAC,CAAC;EACpD,CAAC;EAED,MAAMC,cAAc,GAAGA,CAAA,KAAM;IAC3BL,aAAa,CAACE,IAAI,CAACI,GAAG,CAACP,UAAU,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC;EAC5C,CAAC;;EAED;EACA,MAAMK,SAAS,GAAG,IAAI,CAAC,CAAC;;EAGxB;EACA,MAAM,CAACG,mBAAmB,EAAEC,sBAAsB,CAAC,GAAG9D,QAAQ,CAAC,EAAE,CAAC;EAElE,MAAM,CAAC+D,gBAAgB,EAAEC,mBAAmB,CAAC,GAAGhE,QAAQ,CAAC,EAAE,CAAC;EAE5D,MAAM,CAACiE,cAAc,EAAEC,iBAAiB,CAAC,GAAGlE,QAAQ,CAAC,EAAE,CAAC;EACxD,MAAM,CAACmE,YAAY,EAAEC,eAAe,CAAC,GAAGpE,QAAQ,CAAC,EAAE,CAAC;EACpD,MAAM,CAACqE,eAAe,EAAEC,kBAAkB,CAAC,GAAGtE,QAAQ,CAAC,EAAE,CAAC;EAC1D,MAAM,CAACuE,eAAe,EAAEC,kBAAkB,CAAC,GAAGxE,QAAQ,CAAC,EAAE,CAAC;;EAE1D;EACAC,SAAS,CAAC,MAAM;IACdmC,KAAK,CAAC,uCAAuC,CAAC,CAC3CM,IAAI,CAAEC,QAAQ,IAAKA,QAAQ,CAAC8B,IAAI,CAAC,CAAC,CAAC,CACnC/B,IAAI,CAAE9B,IAAI,IAAK;MACd,MAAM8D,KAAK,GAAG9D,IAAI,CAAC+D,KAAK,CAAC,IAAI,CAAC,CAACC,KAAK,CAAC,CAAC,CAAC,CAACC,GAAG,CAAEC,YAAY,KAAM;QAC7DpD,KAAK,EAAEoD,YAAY,CAACC,IAAI,CAAC,CAAC;QAC1BC,KAAK,EAAEF,YAAY,CAACC,IAAI,CAAC;MAC3B,CAAC,CAAC,CAAC;MACHjB,sBAAsB,CAACY,KAAK,CAAC;IAC/B,CAAC,CAAC,CACDtB,KAAK,CAAED,KAAK,IAAK;MAChBlB,OAAO,CAACkB,KAAK,CAAC,oCAAoC,EAAEA,KAAK,CAAC;IAC5D,CAAC,CAAC;EACN,CAAC,EAAE,EAAE,CAAC;;EAEN;EACAlD,SAAS,CAAC,MAAM;IACd;IACAmC,KAAK,CAAC,6CAA6C,CAAC,CACjDM,IAAI,CAAEC,QAAQ,IAAKA,QAAQ,CAAC8B,IAAI,CAAC,CAAC,CAAC,CACnC/B,IAAI,CAAE9B,IAAI,IAAK;MACd;MACA,MAAMqE,QAAQ,GAAGrE,IAAI,CAAC+D,KAAK,CAAC,IAAI,CAAC,CAACC,KAAK,CAAC,CAAC,CAAC,CAACC,GAAG,CAAEK,OAAO,IAAK;QAC1D;QACA,MAAM,CAACC,aAAa,EAAEC,WAAW,CAAC,GAAGF,OAAO,CAACP,KAAK,CAAC,IAAI,CAAC;QACxD,OAAO;UAAEjD,KAAK,EAAEyD,aAAa;UAAEH,KAAK,EAAEI,WAAW,CAACL,IAAI,CAAC;QAAE,CAAC;MAC5D,CAAC,CAAC;MACFf,mBAAmB,CAACiB,QAAQ,CAAC;IAC/B,CAAC,CAAC,CACD7B,KAAK,CAAED,KAAK,IAAK;MAChBlB,OAAO,CAACkB,KAAK,CAAC,2BAA2B,EAAEA,KAAK,CAAC;IACnD,CAAC,CAAC;EACN,CAAC,EAAE,EAAE,CAAC;;EAEN;EACAlD,SAAS,CAAC,MAAM;IACdmC,KAAK,CAAC,4CAA4C,CAAC,CAChDM,IAAI,CAAEC,QAAQ,IAAKA,QAAQ,CAAC8B,IAAI,CAAC,CAAC,CAAC,CACnC/B,IAAI,CAAE9B,IAAI,IAAK;MACd,MAAMyE,MAAM,GAAGzE,IAAI,CAAC+D,KAAK,CAAC,IAAI,CAAC,CAACC,KAAK,CAAC,CAAC,CAAC,CAACC,GAAG,CAAES,KAAK,KAAM;QACvD5D,KAAK,EAAE4D,KAAK,CAACP,IAAI,CAAC,CAAC;QACnBC,KAAK,EAAEM,KAAK,CAACP,IAAI,CAAC;MACpB,CAAC,CAAC,CAAC;MACHb,iBAAiB,CAACmB,MAAM,CAAC;IAC3B,CAAC,CAAC,CACDjC,KAAK,CAAED,KAAK,IAAK;MAChBlB,OAAO,CAACkB,KAAK,CAAC,+BAA+B,EAAEA,KAAK,CAAC;IACvD,CAAC,CAAC;EACN,CAAC,EAAE,EAAE,CAAC;;EAGN;EACAlD,SAAS,CAAC,MAAM;IACd;IACAmC,KAAK,CAAC,4CAA4C,CAAC,CAChDM,IAAI,CAAEC,QAAQ,IAAKA,QAAQ,CAAC8B,IAAI,CAAC,CAAC,CAAC,CACnC/B,IAAI,CAAE9B,IAAI,IAAK;MACd;MACA,MAAM2E,MAAM,GAAG3E,IAAI,CAAC+D,KAAK,CAAC,IAAI,CAAC,CAACC,KAAK,CAAC,CAAC,CAAC,CAACC,GAAG,CAAE5D,KAAK,IAAK;QACtD;QACA,MAAMuE,YAAY,GAAGvE,KAAK,CAAC8D,IAAI,CAAC,CAAC;QACjC,MAAMU,iBAAiB,GAAGD,YAAY,CAACE,UAAU,CAAC,GAAG,CAAC,GAAGF,YAAY,CAACG,SAAS,CAAC,CAAC,CAAC,GAAGH,YAAY;QACjG,OAAO;UAAE9D,KAAK,EAAE+D,iBAAiB;UAAET,KAAK,EAAES;QAAkB,CAAC;MAC/D,CAAC,CAAC;MACFrB,eAAe,CAACmB,MAAM,CAAC;IACzB,CAAC,CAAC,CACDnC,KAAK,CAAED,KAAK,IAAK;MAChBlB,OAAO,CAACkB,KAAK,CAAC,wBAAwB,EAAEA,KAAK,CAAC;IAChD,CAAC,CAAC;EACN,CAAC,EAAE,EAAE,CAAC;;EAEN;EACAlD,SAAS,CAAC,MAAM;IACdmC,KAAK,CAAC,yCAAyC,CAAC,CAC7CM,IAAI,CAAEC,QAAQ,IAAKA,QAAQ,CAAC8B,IAAI,CAAC,CAAC,CAAC,CACnC/B,IAAI,CAAE9B,IAAI,IAAK;MACd;MACA,MAAMgF,KAAK,GAAGhF,IAAI,CAAC+D,KAAK,CAAC,IAAI,CAAC;MAC9B;MACA,MAAMkB,gBAAgB,GAAGD,KAAK,CAAChB,KAAK,CAAC,CAAC,CAAC,CAACC,GAAG,CAAEiB,IAAI,IAAK;QACpD,MAAMC,QAAQ,GAAGD,IAAI,CAACf,IAAI,CAAC,CAAC;QAC5B,OAAO;UAAErD,KAAK,EAAEqE,QAAQ;UAAEf,KAAK,EAAEe;QAAS,CAAC;MAC7C,CAAC,CAAC;MACF;MACAzB,kBAAkB,CAACuB,gBAAgB,CAAC;IACtC,CAAC,CAAC,CACDzC,KAAK,CAAED,KAAK,IAAK;MAChBlB,OAAO,CAACkB,KAAK,CAAC,mCAAmC,EAAEA,KAAK,CAAC;IAC3D,CAAC,CAAC;EACN,CAAC,EAAE,EAAE,CAAC;;EAEN;EACAlD,SAAS,CAAC,MAAM;IACdmC,KAAK,CAAC,kDAAkD,CAAC,CACtDM,IAAI,CAAEC,QAAQ,IAAKA,QAAQ,CAAC8B,IAAI,CAAC,CAAC,CAAC,CACnC/B,IAAI,CAAE9B,IAAI,IAAK;MACd;MACA,MAAMgF,KAAK,GAAGhF,IAAI,CAAC+D,KAAK,CAAC,IAAI,CAAC;MAC9B;MACA,MAAMqB,SAAS,GAAGJ,KAAK,CAAChB,KAAK,CAAC,CAAC,CAAC,CAACC,GAAG,CAAEiB,IAAI,IAAK;QAC7C,MAAM5E,QAAQ,GAAG4E,IAAI,CAACf,IAAI,CAAC,CAAC;QAC5B,OAAO;UAAErD,KAAK,EAAER,QAAQ;UAAE8D,KAAK,EAAE9D;QAAS,CAAC;MAC7C,CAAC,CAAC;MACF;MACAsD,kBAAkB,CAACwB,SAAS,CAAC;IAC/B,CAAC,CAAC,CACD5C,KAAK,CAAED,KAAK,IAAK;MAChBlB,OAAO,CAACkB,KAAK,CAAC,4BAA4B,EAAEA,KAAK,CAAC;IACpD,CAAC,CAAC;EACN,CAAC,EAAE,EAAE,CAAC;;EAEN;;EAEE,oBACE7C,OAAA;IAAK2F,SAAS,EAAC,0BAA0B;IAAAC,QAAA,gBACvC5F,OAAA;MAAK2F,SAAS,EAAC,wBAAwB;MAAAC,QAAA,eACrC5F,OAAA;QACE6F,GAAG,EAAEC,OAAO,CAAC,8BAA8B,CAAE;QAC7CC,GAAG,EAAC,aAAa;QACjBC,OAAO,EAAEA,CAAA,KAAMC,MAAM,CAACC,OAAO,CAACC,IAAI,CAAC;MAAE;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACtC;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACC,CAAC,eAENvG,OAAA;MAAK2F,SAAS,EAAC,0BAA0B;MAAAC,QAAA,gBAEvC5F,OAAA;QAAO2F,SAAS,EAAG,2BAA0BvF,cAAc,KAAK,QAAQ,GAAG,UAAU,GAAG,EAAG,EAAE;QAAAwF,QAAA,gBAC3F5F,OAAA;UACEwG,IAAI,EAAC,OAAO;UACZzF,IAAI,EAAC,WAAW;UAChBK,KAAK,EAAC,QAAQ;UACdqF,QAAQ,EAAEA,CAAA,KAAMxF,iBAAiB,CAAC,QAAQ,CAAE;UAC5CyF,OAAO,EAAEtG,cAAc,KAAK;QAAS;UAAAgG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACtC,CAAC,eACFvG,OAAA;UAAA4F,QAAA,GAAM,GAAC,eAAA5F,OAAA;YAAA4F,QAAA,EAAG;UAAM;YAAAQ,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAG,CAAC,KAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACvB,CAAC,eACRvG,OAAA;QAAO2F,SAAS,EAAG,2BAA0BvF,cAAc,KAAK,OAAO,GAAG,UAAU,GAAG,EAAG,EAAE;QAAAwF,QAAA,gBAC1F5F,OAAA;UACEwG,IAAI,EAAC,OAAO;UACZzF,IAAI,EAAC,WAAW;UAChBK,KAAK,EAAC,OAAO;UACbqF,QAAQ,EAAEA,CAAA,KAAMxF,iBAAiB,CAAC,OAAO,CAAE;UAC3CyF,OAAO,EAAEtG,cAAc,KAAK;QAAQ;UAAAgG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACrC,CAAC,eACFvG,OAAA;UAAA4F,QAAA,GAAM,GAAC,eAAA5F,OAAA;YAAA4F,QAAA,EAAG;UAAK;YAAAQ,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAG,CAAC,KAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACtB,CAAC,eACRvG,OAAA;QAAO2F,SAAS,EAAG,2BAA0BvF,cAAc,KAAK,YAAY,GAAG,UAAU,GAAG,EAAG,EAAE;QAAAwF,QAAA,gBAC/F5F,OAAA;UACEwG,IAAI,EAAC,OAAO;UACZzF,IAAI,EAAC,WAAW;UAChBK,KAAK,EAAC,YAAY;UAClBqF,QAAQ,EAAEA,CAAA,KAAMxF,iBAAiB,CAAC,YAAY,CAAE;UAChDyF,OAAO,EAAEtG,cAAc,KAAK;QAAa;UAAAgG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC1C,CAAC,eACFvG,OAAA;UAAA4F,QAAA,GAAM,GAAC,eAAA5F,OAAA;YAAA4F,QAAA,EAAG;UAAU;YAAAQ,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAG,CAAC,KAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC3B,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACL,CAAC,eAENvG,OAAA;MAAK2F,SAAS,EAAC,sBAAsB;MAAAC,QAAA,gBACrC5F,OAAA;QAAK2F,SAAS,EAAC,wBAAwB;QAAAC,QAAA,EAAC;MAAsB;QAAAQ,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAAC,eACpEvG,OAAA;QAAK2F,SAAS,EAAC,+BAA+B;QAAAC,QAAA,gBAC5C5F,OAAA;UAAK2F,SAAS,EAAC,qBAAqB;UAAAC,QAAA,gBAChC5F,OAAA;YAAO2G,OAAO,EAAC,cAAc;YAAAf,QAAA,EAAC;UAAiB;YAAAQ,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eACvDvG,OAAA,CAACH,MAAM;YAAC+G,OAAO,EAAErD,mBAAoB;YAACsD,YAAY,EAAE,IAAK;YAACJ,QAAQ,EAAEjF;UAAyB;YAAA4E,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC/F,CAAC,eAENvG,OAAA;UAAK2F,SAAS,EAAC,qBAAqB;UAAAC,QAAA,gBAChC5F,OAAA;YAAO2G,OAAO,EAAC,OAAO;YAAAf,QAAA,EAAC;UAAe;YAAAQ,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eAC9CvG,OAAA,CAACH,MAAM;YAAC+G,OAAO,EAAE/C,YAAa;YAACgD,YAAY,EAAE,IAAK;YAACJ,QAAQ,EAAEtF;UAAkB;YAAAiF,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACjF,CAAC,eAENvG,OAAA;UAAK2F,SAAS,EAAC,qBAAqB;UAAAC,QAAA,gBAChC5F,OAAA;YAAO2G,OAAO,EAAC,WAAW;YAAAf,QAAA,EAAC;UAAuB;YAAAQ,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eAC1DvG,OAAA,CAACH,MAAM;YAAC+G,OAAO,EAAE3C,eAAgB;YAAC4C,YAAY,EAAE,IAAK;YAACJ,QAAQ,EAAEpF;UAAqB;YAAA+E,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACvF,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACD,CAAC,eAENvG,OAAA;QAAK2F,SAAS,EAAC,eAAe;QAAAC,QAAA,gBAC5B5F,OAAA;UAAK2F,SAAS,EAAC,aAAa;UAAAC,QAAA,EAAC;QAAc;UAAAQ,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK,CAAC,eACjDvG,OAAA;UAAK2F,SAAS,EAAC,UAAU;UAAAC,QAAA,gBACvB5F,OAAA;YAAO2G,OAAO,EAAC,UAAU;YAAAf,QAAA,EAAC;UAAQ;YAAAQ,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eAC1CvG,OAAA,CAACH,MAAM;YAAC+G,OAAO,EAAE7C,eAAgB;YAAC8C,YAAY,EAAE,IAAK;YAACJ,QAAQ,EAAEnF;UAAqB;YAAA8E,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACrF,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC,eAENvG,OAAA;QAAK2F,SAAS,EAAC,iCAAiC;QAAAC,QAAA,gBAC5C5F,OAAA;UAAK2F,SAAS,EAAC,0BAA0B;UAAAC,QAAA,EAAC;QAA2B;UAAAQ,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK,CAAC,eAC3EvG,OAAA;UAAK2F,SAAS,EAAC,uBAAuB;UAAAC,QAAA,gBAClC5F,OAAA;YAAO2G,OAAO,EAAC,cAAc;YAAAf,QAAA,EAAC;UAAY;YAAAQ,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eAClDvG,OAAA,CAACH,MAAM;YAAC+G,OAAO,EAAEnD,gBAAiB;YAACoD,YAAY,EAAE,IAAK;YAACJ,QAAQ,EAAElF;UAAsB;YAAA6E,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACzF,CAAC,eACNvG,OAAA;UAAK2F,SAAS,EAAC,uBAAuB;UAAAC,QAAA,gBAClC5F,OAAA;YAAO2G,OAAO,EAAC,aAAa;YAAAf,QAAA,EAAC;UAAW;YAAAQ,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eAChDvG,OAAA,CAACH,MAAM;YAAC+G,OAAO,EAAEjD,cAAe;YAACkD,YAAY,EAAE,IAAK;YAACJ,QAAQ,EAAEhF;UAAoB;YAAA2E,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACrF,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACL,CAAC,eAENvG,OAAA;QAAK2F,SAAS,EAAC,6BAA6B;QAAAC,QAAA,eAC1C5F,OAAA;UAAQ2F,SAAS,EAAC,YAAY;UAACK,OAAO,EAAEtE,iBAAkB;UAAAkE,QAAA,EAAC;QAE3D;UAAAQ,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACN,CAAC,eAENvG,OAAA;QAAK2F,SAAS,EAAC,8BAA8B;QAAAC,QAAA,gBAC3C5F,OAAA;UAAO2G,OAAO,EAAC,eAAe;UAAAf,QAAA,EAAC;QAAoB;UAAAQ,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC,eAC3DvG,OAAA;UAAK2F,SAAS,EAAC,wBAAwB;UAAAC,QAAA,gBACrC5F,OAAA;YAAQ2F,SAAS,EAAC,sBAAsB;YAACK,OAAO,EAAE3C,cAAe;YAAAuC,QAAA,EAAC;UAAC;YAAAQ,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,eAC5EvG,OAAA;YACEwG,IAAI,EAAC,QAAQ;YACbM,EAAE,EAAC,eAAe;YAClB1F,KAAK,EAAE2B,UAAW;YAClB0D,QAAQ,EAAGM,CAAC,IAAK/D,aAAa,CAACE,IAAI,CAACI,GAAG,CAAC,CAAC,EAAE0D,QAAQ,CAACD,CAAC,CAACE,MAAM,CAAC7F,KAAK,CAAC,CAAC;UAAE;YAAAgF,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACvE,CAAC,eACFvG,OAAA;YAAQ2F,SAAS,EAAC,sBAAsB;YAACK,OAAO,EAAE/C,cAAe;YAAA2C,QAAA,EAAC;UAAC;YAAAQ,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACzE,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACL,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACD,CAAC,eACNvG,OAAA;MAAK2F,SAAS,EAAC,gBAAgB;MAAAC,QAAA,eAC7B5F,OAAA,CAACF,MAAM;QAAAsG,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACP,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV,CAAC;AAACrG,EAAA,CAlYID,sBAAsB;EAAA,QACTL,WAAW;AAAA;AAAAsH,EAAA,GADxBjH,sBAAsB;AAoY5B,eAAeA,sBAAsB;AAAC,IAAAiH,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}